# MySQL-45-Note for Interview
重学MySQL实战45讲 - 极简笔记（林晓斌版 - 面试专用）

参考链接：[MySQL 实战 45 讲](https://time.geekbang.org/column/intro/100020801)

## 基础篇

### 01 | 基础架构：一条SQL查询语句是如何执行的？

<img src="https://static001.geekbang.org/resource/image/0d/d9/0d2070e8f84c4801adbfa03bda1f98d9.png?wh=1920*1440" alt="img" style="zoom: 25%;" />



#### 面试问题

**1. 说一说执行一条查询SQL语句的全过程？**

**解答**：MySQL执行一条查询的SQL语句，会经过MySQL的**Server层**和**存储引擎层**，其中Server层中又包含了连接器、查询缓存、分析器、优化器和执行器。

具体来说，

- 首先，客户端要先和MySQL的**连接器**建立连接、校验身份，然后接收客户端的SQL语句；
- 第二步，MySQL会先到**查询缓存**中看，是否有相关的缓存记录，缓存命中则返回，没命中就继续下一步。（查询缓存在MySQL 8.0版本中被删除了，因为查询缓存命中率太低了，一有对表的写操作，查询缓存就会失效，所以它不是很实用。）

- 第三步，MySQL的**分析器**会对SQL语句做词法分析、语法分析、构建语法树等。

- 第四步，**优化器**会根据查询语句的执行成本，选择索引，优化并生成要执行的计划。

- 第五步，MySQL**执行器**会根据执行计划来查询语句，从存储引擎中读取记录，返回给客户端。

  

## 实践篇

